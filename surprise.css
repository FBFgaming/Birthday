/* ===========================
   BASE THEME
   =========================== */
:root{
  --accent1: #ff4fa3;
  --accent2: #ff88c9;
  --glass: rgba(255,255,255,0.04);
  --bg: rgba(0,0,0,0.75);
  --text-glow: rgba(255,90,150,0.9);
}

html,body{
  height:100%;
  margin:0;
  font-family: "Poppins", sans-serif;
  background:#000;
  color:#fff;
  -webkit-font-smoothing:antialiased;
}

/* ===========================
   WRAPPER & BACKGROUND
   =========================== */
.surprise-wrap{
  position:relative;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  background: radial-gradient(circle at 10% 10%, #070707 0%, #000 60%);
}

.bg-blur{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.55);
  backdrop-filter: blur(6px);
  z-index:0;
}

/* ===========================
   EMOJI RAIN
   =========================== */
.emoji-rain{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:5;
  overflow:hidden;
}

.emoji{
  position:absolute;
  top:-10vh;
  font-size:28px;
  opacity:0;
  transform:translateY(0);
  animation: emojiFall linear forwards;
  text-shadow: 0 0 10px rgba(255,120,160,0.85);
}

@keyframes emojiFall{
  0%{opacity:1; transform: translateY(-5vh) rotate(0deg) scale(0.9);}
  30%{transform: translateY(20vh) rotate(20deg) scale(1);}
  70%{transform: translateY(60vh) rotate(-10deg) scale(1.05); opacity:0.9;}
  100%{transform: translateY(120vh) rotate(45deg) scale(1.1); opacity:0;}
}

/* ===========================
   STAGE LAYOUT
   =========================== */
.stage{
  position:relative;
  z-index:10;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:18px;
  padding:20px;
  width:100%;
  max-width:980px;
}

/* ===========================
   GIFT BOX DESIGN
   =========================== */
.gift{
  position:relative;
  width:180px;
  height:140px;
  border-radius:14px;
  background:linear-gradient(180deg,#1b0015,#350018);
  box-shadow: 0 10px 40px rgba(255,20,120,0.12),
              inset 0 -6px 18px rgba(0,0,0,0.6);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  user-select:none;
  transform-origin:center;
  transition:transform .25s ease;
  border: 1px solid rgba(255,255,255,0.04);
}

.gift:active{transform:scale(.98);}

.ribbon-vertical{
  position:absolute;
  top:0; left:50%;
  transform:translateX(-50%);
  width:34px; height:100%;
  background:linear-gradient(180deg,var(--accent1),var(--accent2));
  border-radius:6px;
}

.ribbon-horizontal{
  position:absolute;
  left:0; top:50%;
  transform:translateY(-50%);
  height:28px; width:100%;
  background:linear-gradient(90deg,var(--accent1),var(--accent2));
  border-radius:8px;
}

/* ===== Lid animation ===== */
.lid{
  position:absolute;
  top:-36px; left:50%;
  transform:translateX(-50%);
  width:220px; height:44px;
  background:linear-gradient(90deg,var(--accent1),var(--accent2));
  border-radius:10px;
  transform-origin: center bottom;
  box-shadow:0 8px 30px rgba(255,70,140,0.18);
  transition:transform 700ms cubic-bezier(.2,.9,.3,1),
             top 700ms;
}

.gift.open .lid{
  transform: rotateX(140deg);
  top:-100px;
}

.gift.open{
  box-shadow: 0 18px 70px rgba(255,60,130,0.18);
}

/* ===========================
   TEXT REVEAL
   =========================== */
.reveal-text{
  font-weight:700;
  font-size:1.25rem;
  color:#fff;
  text-align:center;
  opacity:0;
  transform:translateY(6px);
  text-shadow:0 0 18px var(--text-glow),
              0 0 30px rgba(255,120,160,0.5);
  transition:opacity .6s ease .6s,
             transform .6s ease .6s;
}

.gift.open + .reveal-text{
  opacity:1;
  transform:translateY(0);
}

/* ===========================
   REVEAL IMAGES (BMW + KEY)
   =========================== */
.reveal-images{
  width:100%;
  display:flex;
  gap:18px;
  align-items:center;
  justify-content:center;
  opacity:0;
  transform:translateY(18px);
  transition:opacity .7s ease .9s,
             transform .7s ease .9s;
}

.gift.open ~ .reveal-images{
  opacity:1;
  transform:translateY(0);
}

.car{
  max-width:320px;
  width:60%;
  height:auto;
  border-radius:12px;
  box-shadow: 0 16px 50px rgba(0,0,0,0.7);
  transform: translateY(20px);
  transition:transform .9s cubic-bezier(.2,.9,.3,1);
}

.gift.open ~ .reveal-images .car{
  transform:translateY(0);
}

.key{
  width:90px;
  height:auto;
  border-radius:8px;
  align-self:flex-end;
  box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  transform: translateY(30px);
  transition:transform 1s cubic-bezier(.2,.9,.3,1);
}

.gift.open ~ .reveal-images .key{
  transform:translateY(0);
}

/* ===========================
   RESPONSIVE DESIGN
   =========================== */
@media (min-width:760px){
  .reveal-images{ flex-direction:row; }
  .reveal-images .car{ width:420px; }
}

@media (max-width:759px){
  .reveal-images{ flex-direction:column-reverse; gap:12px; }
  .car{ width:85%; }
  .key{ width:72px; }
  .gift{ width:150px;height:120px; }
  .lid{ width:180px;height:36px; top:-30px; }
  .reveal-text{ font-size:1.05rem; }
}

/* ===========================
   NEXT BUTTON
   =========================== */
.next-btn{
  margin-top:10px;
  padding:12px 28px;
  border-radius:28px;
  background:linear-gradient(90deg,var(--accent1),var(--accent2));
  color:#fff;
  border:none;
  font-weight:700;
  font-size:1rem;
  cursor:pointer;
  box-shadow:0 8px 30px rgba(255,80,150,0.18);
  opacity:0;
  transform:translateY(8px);
  transition:opacity .6s ease 1.2s,
             transform .6s ease 1.2s;
  text-decoration:none;
  display:inline-block;
}

.gift.open ~ .next-btn{
  opacity:1;
  transform:translateY(0);
}
